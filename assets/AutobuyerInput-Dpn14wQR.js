import{b as e}from"./_plugin-vue2_normalizer-1QcuHEq3.js";const t={name:`AutobuyerInput`,props:{autobuyer:{type:Object,required:!0},property:{type:String,required:!0},type:{type:String,required:!0}},data(){return{isValid:!0,isFocused:!1,displayValue:`0`}},computed:{inputType(){return this.type===`int`?`number`:`text`},typeFunctions(){let e=n[this.type];if(e===void 0)throw Error(`Unknown autobuyer input type`);return e},validityClass(){return this.isValid?void 0:`o-autobuyer-input--invalid`}},methods:{update(){this.isFocused||this.updateActualValue()},updateActualValue(){let e=this.autobuyer[this.property];this.areEqual(this.actualValue,e)||(this.actualValue=this.typeFunctions.copyValue(e),this.updateDisplayValue())},areEqual(e,t){return t===void 0||e===void 0?!1:this.typeFunctions.areEqual(e,t)},updateDisplayValue(){this.displayValue=this.typeFunctions.formatValue(this.actualValue)},handleInput(e){let t=e.target.value;if(this.displayValue=t,t.length===0){this.isValid=!1;return}let n=this.typeFunctions.tryParse(t);this.isValid=n!==void 0,this.actualValue=this.typeFunctions.copyValue(n)},handleFocus(){this.isFocused=!0},handleChange(e){this.displayValue===`69`&&SecretAchievement(28).unlock(),this.isValid?this.autobuyer[this.property]=this.typeFunctions.copyValue(this.actualValue):this.updateActualValue(),this.updateDisplayValue(),this.isValid=!0,this.isFocused=!1,e.target.blur()}}},n={decimal:{areEqual:(e,t)=>Decimal.eq(e,t),formatValue:e=>Notation.scientific.format(e,2,2),copyValue:e=>new Decimal(e),tryParse:e=>{if(e)try{let t;return t=/^e\d*[.]?\d+$/u.test(e.replaceAll(`,`,``))?Decimal.pow10(Number.parseFloat(e.replaceAll(`,`,``).slice(1))):Decimal.fromString(e.replaceAll(`,`,``)),isNaN(t.mag)||isNaN(t.layer)||isNaN(t.sign)?void 0:t}catch{return}}},float:{areEqual:(e,t)=>e===t,formatValue:e=>e.toString(),copyValue:e=>e,tryParse:e=>{let t=Number.parseFloat(e);return isNaN(t)?void 0:t}},int:{areEqual:(e,t)=>e===t,formatValue:e=>e.toString(),copyValue:e=>e,tryParse:e=>{if(!e||!/^\d+$/u.test(e.replaceAll(`,`,``)))return;let t=Number.parseInt(e,10);return isNaN(t)||!Number.isInteger(t)?void 0:t}}};var r=function(){var e=this,t=e._self._c;return t(`input`,{staticClass:`o-autobuyer-input`,class:e.validityClass,attrs:{type:e.inputType},domProps:{value:e.displayValue},on:{change:e.handleChange,focus:e.handleFocus,input:e.handleInput}})},i=[],a=e(t,r,i,!1,null,`35d7a008`,null,null),o=a.exports;export{n as b,o as c};